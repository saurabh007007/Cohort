<!-- Alternative method for the previous one where we can add functionality into delete button of the todo! -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo 2</title>
    <style>
        .search{
            display: inline;
            width: 200px;
            height: 30px;
            font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            margin-top: 10px;
        }
        h1{
            display: flex;
            justify-content: center;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }
    </style>
</head>
<body style="background-color: grey;">
    <h1>Todo using DOM Manipulation of States & Components</h1>
    <input type="text" placeholder="Enter Your todo" style="display: flex; justify-content: center; height: 30px; width: 99%;"></input>
    <button class="search"onclick="addTodo()">Add todo!</button>
    <button class="search" onclick="deleteLastTodo()">Delete first todo</button>
    <button class="search"  onclick="deleteFirstTodo()">Delete last todo</button>

    <div id="todos"></div>


    <script>
      let todos = [];  
      function addTodo() {
        todos.push({
          title: document.querySelector("input").value
        })
        render()
      }
  
      function deleteLastTodo() {
        todos.pop()
        render()
      }
  
  
      function deleteFirstTodo() {
        todos.splice(0, 1)
        render()
      }
      

      function deleteTodo(index){

        todos.splice(index,1)
        render()
      }
  
      function createTodoComponent(todo, index) {
        const div = document.createElement("div");
        const h1 = document.createElement("h1");
        const button = document.createElement("button");
        button.innerHTML = "Delete" 
        button.setAttribute("onclick", "deleteTodo(" + index + ")");    //idhr onclick uspe aise use kiye hai aur index ko pass krwa diye hai jo ki render mein hai aur yeh then deletetodo ko cll kr rha hai
        h1.innerHTML = todo.title;
        div.append(h1)
        div.append(button)
        return div
      }
  
      // react 
      function render() {
        document.querySelector("#todos").innerHTML = ""; 
        for (let i = 0; i < todos.length; i++) {
          const element = createTodoComponent(todos[i], i);         //yeh todo index bhi return kr rha hai
          document.querySelector("#todos").appendChild(element)
        }
      }
  
    </script>
</body>
</html>